(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,a){e.exports={container:"MovieElement_container__3nYdg"}},35:function(e,t,a){e.exports={container:"FavoriElement_container__1nuOS"}},39:function(e,t,a){e.exports=a(74)},44:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(30),o=a.n(i),l=(a(44),a(4)),c=a(5),s=a(7),m=a(6),u=a(8),v=a(78),f=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"NetFlex"),r.a.createElement("button",{className:"navbar-toggler"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(v.a,{to:"/films",className:"nav-link",activeClassName:"active"}," Home ")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(v.a,{to:"/favoris",className:"nav-link",activeClassName:"active"}," Favoris ")))))}}]),t}(n.Component),d=function(){return r.a.createElement("div",{style:{minHeight:"100vh"},className:"d-flex flex-row justify-content-center align-items-center w-100"},r.a.createElement("img",{alt:"loading gif",src:"https://media.giphy.com/media/WGkhN8KKOC4tW/giphy.gif"}))},p=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"w-25 h-100 sticky-top bg-light p-4 d-flex flex-column"},r.a.createElement("h5",null,this.props.movie.title),r.a.createElement("hr",{className:"w-100"}),r.a.createElement("div",null,r.a.createElement("img",{alt:"movie",className:"mx-auto d-block w-75",src:this.props.movie.img})),r.a.createElement("hr",{className:"w-100"}),r.a.createElement("p",{className:"text-secondary"},this.props.movie.details),r.a.createElement("p",null,this.props.movie.description))}}]),t}(n.Component),h=a(31),b=a.n(h),E=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).mouseEnter=function(){a.props.updateSelectedMovie(a.props.movie.title)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{onClick:this.mouseEnter,className:"d-flex flex-row bg-light "+b.a.container},r.a.createElement("img",{alt:"film",width:"185",src:this.props.movie.img}),r.a.createElement("div",{className:"flex-fill d-flex flex-column p-3"},r.a.createElement("h5",null,this.props.movie.title),r.a.createElement("hr",{className:"w-100"}),r.a.createElement("p",{className:"flex-fill"},this.props.movie.details),r.a.createElement("div",{className:"d-flex flex-row justify-content-end"},this.props.isFavori?r.a.createElement("button",{onClick:function(){e.props.removeFavori(e.props.movie.title)},className:"btn btn-small btn-danger"},"Remove"):r.a.createElement("button",{onClick:function(){e.props.addFavori(e.props.movie.title)},className:"btn btn-small btn-primary"},"Add"))))}}]),t}(n.Component),j=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"w-75 d-flex flex-row flex-wrap justify-content-center"},this.props.movies.map(function(t,a){return r.a.createElement(E,{key:t.title+a,movie:t,isFavori:e.props.favoris.includes(t.title),addFavori:e.props.addFavori,removeFavori:e.props.removeFavori,updateSelectedMovie:function(){e.props.updateSelectedMovie(a)}})}))}}]),t}(n.Component),g=a(37),O=a(18),N=O.create({baseURL:"https://api.themoviedb.org/4"});N.interceptors.request.use(function(e){return e.headers.Authorization="Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI5ODFkZmU0MDZiMDhjY2FlYjUwMjRmY2QzM2UzYzFlOCIsInN1YiI6IjVjMGU4NTlmYzNhMzY4MjUyYTBjOTM4NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.QG7-vvAvmEXOVUD2ZaONg5e_AHqXaTlPVLeDz7mzhDs",e});var x=N,y=function(e){return{img:"https://image.tmdb.org/t/p/w500"+e.poster_path,title:e.title,details:"".concat(e.release_date," | ").concat(e.vote_average,"/10 (").concat(e.vote_count,")"),description:e.overview}},F=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).submit=function(e,t){var n="?"+Object.keys(e).map(function(t){return"".concat(t,"=").concat(e[t],"&")}).join("");x.get("/search/movie"+n).then(function(e){return e.data.results}).then(function(e){var n=e.map(y);a.props.updateMovies(n),t.setSubmitting(!1)}).catch(function(e){return console.log(e)})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,{onSubmit:this.submit,initialValues:{query:"",language:"en-US"}},function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleBlur,i=e.isSubmitting;return r.a.createElement("form",{className:"d-flex flex-row p-2 m-2",onSubmit:t},r.a.createElement("input",{name:"query",className:"flex-fill form-control mr-2",placeholder:"Search ...",onChange:a,onBlur:n}),r.a.createElement("select",{className:"mr-2 form-control w-25",name:"language",onChange:a,onBlur:n},r.a.createElement("option",{value:"en-US"}," Anglais "),r.a.createElement("option",{value:"fr-FR"}," Francais ")),r.a.createElement("button",{className:"btn btn-small btn-warning",type:"submit",disabled:i},"Submit"))})}}]),t}(n.Component),w=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F,{updateMovies:e.updateMovies}),e.loaded?r.a.createElement("div",{className:"d-flex flex-row flex-fill pt-4 p-2"},r.a.createElement(j,{movies:e.movies,updateSelectedMovie:e.updateSelectedMovie,favoris:e.favoris.map(function(e){return e.title}),removeFavori:e.removeFavori,addFavori:e.addFavori}),r.a.createElement(p,{movie:e.movies[e.selectedMovie]})):r.a.createElement(d,null))},M=a(35),k=a.n(M),S=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"d-flex flex-row bg-light "+k.a.container},r.a.createElement("img",{alt:"film",width:"185",src:this.props.favori.img}),r.a.createElement("div",{className:"flex-fill d-flex flex-column p-3"},r.a.createElement("h5",null,this.props.favori.title),r.a.createElement("hr",{className:"w-100"}),r.a.createElement("p",{className:"flex-fill"},this.props.favori.details),r.a.createElement("div",{className:"d-flex flex-row justify-content-end"},r.a.createElement("button",{onClick:function(){e.props.removeFavori(e.props.favori.title)},className:"btn btn-small btn-danger"},"Remove"))))}}]),t}(n.Component),C=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"w-75 d-flex flex-row flex-wrap justify-content-center"},this.props.favoris.map(function(t,a){return r.a.createElement(S,{key:t.title+a,favori:t,removeFavori:e.props.removeFavori})}))}}]),t}(n.Component),I=function(e){return r.a.createElement("div",{className:"d-flex flex-row flex-fill pt-4 p-2"},e.loaded?r.a.createElement("div",{className:"d-flex flex-row flex-fill pt-4 p-2"},r.a.createElement(C,{favoris:e.favoris,removeFavori:e.removeFavori})):r.a.createElement(d,null))},J=O.create({baseURL:"https://films-d7fa0.firebaseio.com/"}),U=a(76),_=a(79),z=a(75),A=a(77),Y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).updateSelectedMovie=function(e){a.setState({selectedMovie:e})},a.updateMovies=function(e){a.setState({movies:e,loaded:!!a.state.favoris})},a.updateFavori=function(e){a.setState({favoris:e,loaded:!!a.state.movies})},a.addFavori=function(e){var t=a.state.favoris.slice(),n=a.state.movies.find(function(t){return t.title===e});t.push(n),a.setState({favoris:t},function(){a.saveFavoris()})},a.removeFavori=function(e){var t=a.state.favoris.slice(),n=a.state.favoris.findIndex(function(t){return t.title===e});t.splice(n,1),a.setState({favoris:t},function(){a.saveFavoris()})},a.saveFavoris=function(){J.put("favoris.json",a.state.favoris)},a.state={movies:null,selectedMovie:0,loaded:!1,favoris:null},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;x.get("/discover/movie").then(function(e){return e.data.results}).then(function(t){var a=t.map(y);e.updateMovies(a)}).catch(function(e){return console.log(e)}),J.get("favoris.json").then(function(t){var a=t.data?t.data:[];e.updateFavori(a)})}},{key:"render",value:function(){var e=this;return r.a.createElement(U.a,null,r.a.createElement("div",{className:"App d-flex flex-column"},r.a.createElement(f,null),r.a.createElement(_.a,null,r.a.createElement(z.a,{path:"/films",render:function(t){return r.a.createElement(w,Object.assign({},t,{loaded:e.state.loaded,updateMovies:e.updateMovies,updateSelectedMovie:e.updateSelectedMovie,movies:e.state.movies,selectedMovie:e.state.selectedMovie,addFavori:e.addFavori,removeFavori:e.removeFavori,favoris:e.state.favoris}))}}),r.a.createElement(z.a,{path:"/favoris",render:function(t){return r.a.createElement(I,Object.assign({},t,{loaded:e.state.loaded,favoris:e.state.favoris,removeFavori:e.removeFavori}))}}),r.a.createElement(A.a,{to:"/films"}))))}}]),t}(n.Component);o.a.render(r.a.createElement(Y,null),document.getElementById("root"))}},[[39,2,1]]]);
//# sourceMappingURL=main.5a47f370.chunk.js.map