{"version":3,"sources":["features/films/components/movie-list/MovieElement/MovieElement.module.scss","features/favoris/components/favori-list/FavoriElement/FavoriElement.module.scss","components/header/Header.js","components/utils/Loading.js","features/films/components/movie-details/MovieDetails.js","features/films/components/movie-list/MovieElement/MovieElement.js","features/films/components/movie-list/MovieList.js","conf/api.movie.js","features/films/components/search-bar/SearchBar.js","features/films/index.js","features/favoris/components/favori-list/FavoriElement/FavoriElement.js","features/favoris/components/favori-list/FavoriList.js","features/favoris/index.js","conf/api.firebase.js","App.js","index.js"],"names":["module","exports","container","Header","react_default","a","createElement","className","href","NavLink","to","activeClassName","Component","Loading","style","minHeight","alt","src","MovieDetails","this","props","movie","title","img","details","description","MovieElement","mouseEnter","_this","updateSelectedMovie","_this2","onClick","Style","width","isFavori","removeFavori","addFavori","MovieList","movies","map","m","index","MovieElement_MovieElement","key","favoris","includes","apiMovie","axios","baseURL","interceptors","request","use","req","headers","apiMovieMap","poster_path","concat","release_date","vote_average","vote_count","overview","SearchBar","submit","values","actions","query","Object","keys","k","join","get","then","response","data","results","moviesApi","updateMovies","setSubmitting","catch","err","console","log","formik_esm","onSubmit","initialValues","language","_ref","handleSubmit","handleChange","handleBlur","isSubmitting","name","placeholder","onChange","onBlur","value","type","disabled","films","Fragment","SearchBar_SearchBar","loaded","MovieList_MovieList","f","MovieDetails_MovieDetails","selectedMovie","FavoriElement","favori","FavoriList","FavoriElement_FavoriElement","FavoriList_FavoriList","apiFirebase","App","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","setState","state","updateFavori","slice","film","find","push","saveFavoris","findIndex","splice","put","_this3","BrowserRouter","Header_Header","Switch","Route","path","render","assign","Redirect","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.5a47f370.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MovieElement_container__3nYdg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FavoriElement_container__1nuOS\"};","import React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\nexport default class Header extends Component {\n\n  render() {\n    return (\n      <header className=\"navbar navbar-expand-lg navbar-light bg-light\">\n        <a className=\"navbar-brand\" href=\"/\">NetFlex</a>\n        <button className=\"navbar-toggler\">\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n        <div className=\"collapse navbar-collapse\">\n          <ul className=\"navbar-nav ml-auto\">\n            <li className=\"nav-item\">\n              <NavLink to=\"/films\" className=\"nav-link\" activeClassName=\"active\" > Home </NavLink>\n            </li>\n            <li className=\"nav-item\">\n              <NavLink to=\"/favoris\" className=\"nav-link\" activeClassName=\"active\"> Favoris </NavLink>\n            </li>\n          </ul>\n        </div>\n      </header>\n    );\n  }\n\n}","import React from \"react\";\n\nexport default () => {\n  return (\n    <div\n      style={{ minHeight: \"100vh\" }}\n      className=\"d-flex flex-row justify-content-center align-items-center w-100\"\n    >\n      <img\n        alt=\"loading gif\"\n        src=\"https://media.giphy.com/media/WGkhN8KKOC4tW/giphy.gif\"\n      />\n    </div>\n  );\n};\n","import React, { Component } from 'react';\n\nexport default class MovieDetails extends Component {\n\n  render() {\n    return <div className=\"w-25 h-100 sticky-top bg-light p-4 d-flex flex-column\">\n      <h5>{ this.props.movie.title }</h5>\n      <hr className=\"w-100\"/>\n      <div>\n        <img alt=\"movie\" className=\"mx-auto d-block w-75\" src={ this.props.movie.img } />\n      </div>\n      <hr className=\"w-100\"/>\n      <p className=\"text-secondary\">{ this.props.movie.details }</p>\n      <p>{ this.props.movie.description }</p>\n    </div>\n  }\n\n}","import React, { Component } from 'react';\nimport Style from './MovieElement.module.scss';\n\nexport default class MovieElement extends Component {\n\n\n  mouseEnter = () => {\n    this.props.updateSelectedMovie(this.props.movie.title);\n  }\n\n  render() {\n    return (\n      <div onClick={ this.mouseEnter } className={ \"d-flex flex-row bg-light \" + Style.container }>\n        <img alt=\"film\" width=\"185\" src={ this.props.movie.img }  />\n        <div className=\"flex-fill d-flex flex-column p-3\">\n          <h5>{ this.props.movie.title }</h5>\n          <hr className=\"w-100\" />\n          <p className=\"flex-fill\">{ this.props.movie.details }</p>\n          <div className=\"d-flex flex-row justify-content-end\">\n            { this.props.isFavori ? (\n              <button onClick={ () => {this.props.removeFavori(this.props.movie.title) }} className=\"btn btn-small btn-danger\">Remove</button>\n            ) : (\n              <button onClick={ () => {this.props.addFavori(this.props.movie.title) }} className=\"btn btn-small btn-primary\">Add</button>\n            ) }\n          </div>\n        </div>\n      </div>\n    );\n    \n  }\n\n}","import React, { Component } from 'react';\nimport MovieElement from './MovieElement/MovieElement';\n\nexport default class MovieList extends Component {\n  render() {\n    return (\n      <div className=\"w-75 d-flex flex-row flex-wrap justify-content-center\">\n        { this.props.movies.map( (m, index) => (\n          <MovieElement \n            key={ m.title + index } \n            movie={ m } \n            isFavori={ this.props.favoris.includes(m.title) }\n            addFavori={ this.props.addFavori }\n            removeFavori={ this.props.removeFavori }\n            updateSelectedMovie={ () => { this.props.updateSelectedMovie(index) } } \n          />\n        ))}\n      </div>\n    );\n  }\n\n}","import * as axios from 'axios';\n\nconst apiMovie = axios.create({\n  baseURL: 'https://api.themoviedb.org/4'\n})\n\napiMovie.interceptors.request.use( req => {\n  req.headers['Authorization'] = 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI5ODFkZmU0MDZiMDhjY2FlYjUwMjRmY2QzM2UzYzFlOCIsInN1YiI6IjVjMGU4NTlmYzNhMzY4MjUyYTBjOTM4NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.QG7-vvAvmEXOVUD2ZaONg5e_AHqXaTlPVLeDz7mzhDs'\n  return req;\n})\n\nexport default apiMovie;\n\n\nexport const apiMovieMap = (m) => ({\n  img: 'https://image.tmdb.org/t/p/w500' + m.poster_path,\n  title: m.title,\n  details: `${ m.release_date } | ${ m.vote_average }/10 (${ m.vote_count })`,\n  description: m.overview\n})","import React, { Component } from 'react';\nimport { Formik } from 'formik';\nimport apiMovie, { apiMovieMap } from '../../../../conf/api.movie';\n\nexport default class SearchBar extends Component {\n  \n  submit = (values, actions) => {\n    const query = '?' + Object.keys(values).map( k => `${ k }=${ values[k]}&`).join('');\n    apiMovie.get('/search/movie' + query)\n            .then( response => response.data.results )\n            .then( moviesApi => {\n              const movies = moviesApi.map(apiMovieMap)\n              this.props.updateMovies(movies);\n              actions.setSubmitting(false);\n            })\n            .catch( err => console.log(err));\n        \n  }\n  \n  render() {\n    return (\n      <Formik\n        onSubmit={ this.submit }\n        initialValues={ { query: '', language: 'en-US' } }\n      >\n        { ({ handleSubmit, handleChange, handleBlur, isSubmitting }) => (\n          <form className=\"d-flex flex-row p-2 m-2\" onSubmit={ handleSubmit }>\n            <input name=\"query\" className=\"flex-fill form-control mr-2\" placeholder=\"Search ...\" onChange={ handleChange } onBlur={ handleBlur } />\n            <select className=\"mr-2 form-control w-25\" name=\"language\"  onChange={ handleChange } onBlur={ handleBlur }>\n              <option value=\"en-US\"> Anglais </option>\n              <option value=\"fr-FR\"> Francais </option>\n            </select>\n            <button className=\"btn btn-small btn-warning\" type=\"submit\" disabled={ isSubmitting } >Submit</button>\n          </form>\n        )}\n\n      </Formik>\n    )\n  }\n}","import React from 'react';\nimport { MovieList, MovieDetails, SearchBar } from './components';\nimport Loading from '../../components/utils/Loading';\n\nexport default (props) => {\n  return (\n    <>\n      <SearchBar updateMovies={ props.updateMovies } />\n      { props.loaded ? (\n        <div className=\"d-flex flex-row flex-fill pt-4 p-2\" >\n          <MovieList \n            movies={ props.movies } \n            updateSelectedMovie={ props.updateSelectedMovie }\n            favoris={ props.favoris.map( f => f.title ) }\n            removeFavori={ props.removeFavori }\n            addFavori={ props.addFavori }\n          />\n          <MovieDetails \n            movie={ props.movies[props.selectedMovie] }\n          />\n        </div>\n      ) : (\n        <Loading />\n      ) }\n    </>\n  )\n}","import React, { Component } from 'react';\nimport Style from './FavoriElement.module.scss';\n\nexport default class FavoriElement extends Component {\n  render() {\n    return (\n      <div className={ \"d-flex flex-row bg-light \" + Style.container }>\n        <img alt=\"film\" width=\"185\" src={ this.props.favori.img }  />\n        <div className=\"flex-fill d-flex flex-column p-3\">\n          <h5>{ this.props.favori.title }</h5>\n          <hr className=\"w-100\" />\n          <p className=\"flex-fill\">{ this.props.favori.details }</p>\n          <div className=\"d-flex flex-row justify-content-end\">\n            <button onClick={ () => {this.props.removeFavori(this.props.favori.title) }} className=\"btn btn-small btn-danger\">Remove</button>\n          </div>\n        </div>\n      </div>\n    );\n    \n  }\n\n}","import React, { Component } from 'react';\nimport FavoriElement from './FavoriElement/FavoriElement';\n\nexport default class FavoriList extends Component {\n  render() {\n    return (\n      <div className=\"w-75 d-flex flex-row flex-wrap justify-content-center\">\n        { this.props.favoris.map( (f, index) => (\n          <FavoriElement \n            key={ f.title + index } \n            favori={ f } \n            removeFavori={ this.props.removeFavori }\n          />\n        ))}\n      </div>\n    );\n  }\n\n}","import React from 'react';\nimport { FavoriList } from './components';\nimport Loading from '../../components/utils/Loading';\n\nexport default (props) => {\n  return (\n    <div className=\"d-flex flex-row flex-fill pt-4 p-2\" >\n      \n      { props.loaded ? (\n        <div className=\"d-flex flex-row flex-fill pt-4 p-2\" >\n          <FavoriList  \n            favoris={ props.favoris }\n            removeFavori={ props.removeFavori }\n          />\n        </div>\n      ) : (\n        <Loading />\n      ) }\n    </div>\n  )\n}","import * as axios from 'axios';\n\nconst apiFirebase = axios.create({\n  baseURL: 'https://films-d7fa0.firebaseio.com/'\n});\n\nexport default apiFirebase;","import React, { Component } from 'react';\nimport { Header } from './components';\nimport Films from './features/films';\nimport Favoris from './features/favoris';\nimport apiMovie, { apiMovieMap } from './conf/api.movie';\nimport apiFirebase from './conf/api.firebase';\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      movies: null,\n      selectedMovie: 0,\n      loaded: false,\n      favoris: null\n    }\n  }\n\n  updateSelectedMovie = (index) => {\n    this.setState({\n      selectedMovie: index\n    })\n  }\n\n  componentDidMount() {\n    apiMovie.get('/discover/movie')\n            .then( response => response.data.results )\n            .then( moviesApi => {\n              const movies = moviesApi.map(apiMovieMap)\n              this.updateMovies(movies);\n            })\n            .catch( err => console.log(err));\n\n    apiFirebase.get('favoris.json')\n               .then( response => {\n                let favoris = response.data ? response.data : [];\n                this.updateFavori(favoris)\n              })\n  }\n\n  updateMovies = (movies) => {\n    this.setState({\n      movies,\n      loaded: this.state.favoris ? true : false\n    })\n  }\n\n  updateFavori = (favoris) => {\n    this.setState({\n      favoris,\n      loaded: this.state.movies ? true : false\n    })\n  }\n\n  addFavori = (title) => {\n    const favoris = this.state.favoris.slice();\n    const film = this.state.movies.find( m => m.title === title );\n    favoris.push(film);\n    this.setState({\n      favoris\n    }, () => {\n      this.saveFavoris();\n    })\n  }\n\n  removeFavori = (title) => {\n    const favoris = this.state.favoris.slice();\n    const index = this.state.favoris.findIndex( f => f.title === title );\n    favoris.splice(index, 1);\n    this.setState({\n      favoris\n    }, () => {\n      this.saveFavoris();\n    })\n  }\n\n  saveFavoris = () => {\n    apiFirebase.put('favoris.json', this.state.favoris);\n  }\n\n  render() {\n    return (\n      <Router>\n        <div className=\"App d-flex flex-column\">\n          <Header />\n          <Switch>\n            <Route path=\"/films\" render={ (props) => {\n              return (\n                <Films\n                  { ...props } \n                  loaded={ this.state.loaded }\n                  updateMovies={ this.updateMovies }\n                  updateSelectedMovie={ this.updateSelectedMovie }\n                  movies={ this.state.movies }\n                  selectedMovie={ this.state.selectedMovie }\n                  addFavori={ this.addFavori }\n                  removeFavori={ this.removeFavori }\n                  favoris={ this.state.favoris }\n                />\n              )\n            }} />\n            <Route path=\"/favoris\" render={ (props) => {\n              return (\n                <Favoris \n                  { ...props } \n                  loaded={ this.state.loaded }\n                  favoris={ this.state.favoris }\n                  removeFavori={ this.removeFavori }\n                />\n              )\n            }} />\n            <Redirect to=\"/films\" />\n          </Switch>\n         \n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}